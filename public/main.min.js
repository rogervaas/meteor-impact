!function e(t,s,o){function r(i,n){if(!s[i]){if(!t[i]){var m="function"==typeof require&&require;if(!n&&m)return m(i,!0);if(a)return a(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var l=s[i]={exports:{}};t[i][0].call(l.exports,function(e){var s=t[i][1][e];return r(s?s:e)},l,l.exports,e,t,s,o)}return s[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({"./src/js/main.js":[function(e){"use strict";if(window.Utils=e("./utils"),window.Sockets=io(),document.getElementById("meteorimpact-game")){var t=new Phaser.Game(Utils.getScreenWidth(),Utils.getScreenHeight(),Phaser.AUTO,"meteorimpact-game");window.playerState={currentLevel:"Game"},t.state.add("Boot",e("./states/boot")),t.state.add("Splash",e("./states/splash")),t.state.add("Preloader",e("./states/preloader")),t.state.add("Menu",e("./states/menu")),t.state.add("Game",e("./states/game")),t.state.start("Boot")}var s={left:37,up:38,right:39,down:40},o={37:!1,38:!1,39:!1,40:!1};bean.on(document,"keydown",function(e){e.keyCode===s.left?Sockets.emit("server left",null):e.keyCode===s.up?Sockets.emit("server up",null):e.keyCode===s.right?Sockets.emit("server right",null):e.keyCode===s.down&&Sockets.emit("server down",null),e.keyCode in o&&(o[e.keyCode]=!0,o[s.up]&&o[s.left]&&Sockets.emit("server up left",null),o[s.up]&&o[s.right]&&Sockets.emit("server up right",null),o[s.down]&&o[s.left]&&Sockets.emit("server down left",null),o[s.down]&&o[s.right]&&Sockets.emit("server down right",null))}),bean.on(document,"keyup",function(e){e.keyCode===s.left||e.keyCode===s.right?Sockets.emit("server left right stop",null):(e.keyCode===s.up||e.keyCode===s.down)&&Sockets.emit("server up down stop",null),e.keyCode in o&&(o[e.keyCode]=!1)}),document.getElementById("left")&&(bean.on(document.getElementById("left"),"touchstart",function(){Sockets.emit("server left",null)}),bean.on(document.getElementById("left"),"touchend",function(){Sockets.emit("server left right stop",null)}),bean.on(document.getElementById("right"),"touchstart",function(){Sockets.emit("server right",null)}),bean.on(document.getElementById("right"),"touchend",function(){Sockets.emit("server left right stop",null)}),bean.on(document.getElementById("up"),"touchstart",function(){Sockets.emit("server up",null)}),bean.on(document.getElementById("up"),"touchend",function(){Sockets.emit("server up down stop",null)}),bean.on(document.getElementById("down"),"touchstart",function(){Sockets.emit("server down",null)}),bean.on(document.getElementById("down"),"touchend",function(){Sockets.emit("server up down stop",null)}))},{"./states/boot":"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/boot.js","./states/game":"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/game.js","./states/menu":"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/menu.js","./states/preloader":"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/preloader.js","./states/splash":"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/splash.js","./utils":"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/utils.js"}],"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/entities/player.js":[function(e,t){var s=function(e){this.playerId=e.playerId,Phaser.Sprite.call(this,e.game,e.x,e.y,e.sprite),e.game.add.existing(this),e.game.physics.enable(this,Phaser.Physics.ARCADE),this.anchor.setTo(.5,.5),this.scale.setTo(.5,.5),this.body.drag.set(125),this.body.maxVelocity.set(250),this.playerController()};s.prototype=Object.create(Phaser.Sprite.prototype),s.prototype.constructor=s,s.prototype.update=function(){this.screenWrap()},s.prototype.playerController=function(){var e=this,t={pause:0,negative:-200,positive:200},s={pause:0,up:200,down:-200};Sockets.on("client left",function(s){s.id===e.playerId&&(e.body.angularVelocity=t.negative)}),Sockets.on("client right",function(s){s.id===e.playerId&&(e.body.angularVelocity=t.positive)}),Sockets.on("client up",function(t){t.id===e.playerId&&e.game.physics.arcade.accelerationFromRotation(e.rotation,s.up,e.body.acceleration)}),Sockets.on("client down",function(t){t.id===e.playerId&&e.game.physics.arcade.accelerationFromRotation(e.rotation,s.down,e.body.acceleration)}),Sockets.on("client left right stop",function(s){s.id===e.playerId&&(e.body.angularVelocity=t.pause)}),Sockets.on("client up down stop",function(t){t.id===e.playerId&&e.body.acceleration.set(s.pause)}),Sockets.on("client up right",function(o){o.id===e.playerId&&(e.body.angularVelocity=t.positive,e.game.physics.arcade.accelerationFromRotation(e.rotation,s.up,e.body.acceleration))}),Sockets.on("client up left",function(o){o.id===e.playerId&&(e.body.angularVelocity=t.negative,e.game.physics.arcade.accelerationFromRotation(e.rotation,s.up,e.body.acceleration))}),Sockets.on("client down right",function(o){o.id===e.playerId&&(e.body.angularVelocity=t.positive,e.game.physics.arcade.accelerationFromRotation(e.rotation,s.down,e.body.acceleration))}),Sockets.on("client down left",function(o){o.id===e.playerId&&(e.body.angularVelocity=t.negative,e.game.physics.arcade.accelerationFromRotation(e.rotation,s.down,e.body.acceleration))})},s.prototype.screenWrap=function(){this.x<0?this.x=this.game.width:this.x>this.game.width&&(this.x=0),this.y<0?this.y=this.game.height:this.y>this.game.height&&(this.y=0)},s.prototype.fire=function(){this.game.time.now>bulletTime&&(bullet=bullets.getFirstExists(!1),bullet&&(bullet.reset(sprite.body.x+16,sprite.body.y+16),bullet.lifespan=2e3,bullet.rotation=sprite.rotation,game.physics.arcade.velocityFromRotation(sprite.rotation,400,bullet.body.velocity),bulletTime=game.time.now+50))},t.exports=s},{}],"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/boot.js":[function(e,t){var s=function(){};t.exports=s,s.prototype={preload:function(){this.load.image("preloader","assets/preloader.gif")},create:function(){this.game.input.maxPointers=1,this.game.device.desktop?this.game.stage.scale.pageAlignHorizontally=!0:(this.game.stage.scaleMode=Phaser.StageScaleMode.SHOW_ALL,this.game.stage.scale.minWidth=480,this.game.stage.scale.minHeight=260,this.game.stage.scale.maxWidth=640,this.game.stage.scale.maxHeight=480,this.game.stage.scale.forceLandscape=!0,this.game.stage.scale.pageAlignHorizontally=!0,this.game.stage.scale.setScreenSize(!0)),this.game.state.start("Preloader")}}},{}],"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/game.js":[function(e,t){var s=e("../entities/player"),o=function(){this.players=[],this.meteors=null};o.prototype={create:function(){this.setConfig(),this.setPlayers(),this.setMeteors()},update:function(){this.game.physics.arcade.collide(this.players,this.meteors),this.game.physics.arcade.collide(this.players,this.players),this.game.physics.arcade.collide(this.meteors,this.meteors),this.meteors.forEachAlive(function(e){e.x<0?e.x=this.width:e.x>this.width&&(e.x=0),e.y<0?e.y=this.height:e.y>this.height&&(e.y=0)},this.game)},screenWrap:function(e,t){e.x<0?e.x=t.width:e.x>t.width&&(e.x=0),e.y<0?e.y=t.height:e.y>t.height&&(e.y=0)},setConfig:function(){this.game.add.tileSprite(0,0,screen.width,screen.height,Utils.backgrounds[Utils.randomNumber(0,3)]),this.game.renderer.clearBeforeRender=!1,this.game.renderer.roundPixels=!0,this.game.physics.startSystem(Phaser.Physics.ARCADE)},setPlayers:function(){var e=this;Sockets.on("client new player",function(t){e.players.push(new s({playerId:t.id,sprite:"spaceship",game:e.game,x:e.game.world.randomX,y:e.game.world.randomY}))}),Sockets.on("client disconnected",function(t){for(var s=0;s<e.players.length;s++)e.players[s].playerId===t.id&&(console.log(e.players),e.players[s].kill(),e.players.splice(s,1))});for(var t=0;t<this.players.length;t++)e.players[t].health=100},setMeteors:function(){this.meteors=this.game.add.group(),this.meteors.enableBody=!0,this.meteors.physicsBodyType=Phaser.Physics.ARCADE;for(var e=0;e<this.game.rnd.between(1,2);e++){this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorBrown_big1"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorBrown_big2"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorBrown_big3"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorBrown_big4"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorGrey_big1"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorGrey_big1"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorGrey_big1"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorGrey_big1")}for(var e=0;e<this.game.rnd.between(1,3);e++){this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorBrown_med1"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorBrown_med3"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorGrey_med1"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorGrey_med2")}for(var e=0;e<this.game.rnd.between(1,4);e++){this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorBrown_small1"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorBrown_small2"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorGrey_small1"),this.meteors.create(this.game.world.randomX,this.game.world.randomY,"meteorGrey_small2")}},render:function(){this.game.debug.text("Host Name:"+this.game.net.getHostName(),32,150),this.game.debug.quadTree(this.game.physics.arcade.quadTree)}},t.exports=o},{"../entities/player":"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/entities/player.js"}],"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/menu.js":[function(e,t){var s=function(){this.text=null};t.exports=s,s.prototype={create:function(){this.game.add.tileSprite(0,0,screen.width,screen.height,Utils.backgrounds[Utils.randomNumber(0,3)]),this.displayText(),this.input.onDown.add(this.onDown,this)},update:function(){},onDown:function(){this.game.state.start(playerState.currentLevel)},displayText:function(){var e=this.game.width/2,t=this.game.height/2,s={font:"65px Arial",fill:"#ffffff",align:"center"};this.text=this.add.text(e-200,t-200,"Press to Start",s)}}},{}],"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/preloader.js":[function(e,t){var s=function(){this.asset=null,this.ready=!1};t.exports=s,s.prototype={preload:function(){this.asset=this.add.sprite(320,240,"preloader"),this.asset.anchor.setTo(.5,.5),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.setPreloadSprite(this.asset),this.load.image("spaceship","assets/spaceships/playerShip1_blue.png"),this.load.image("backgroundBlack","assets/backgrounds/black.png"),this.load.image("backgroundBlue","assets/backgrounds/blue.png"),this.load.image("backgroundDarkPurple","assets/backgrounds/darkPurple.png"),this.load.image("backgroundPurple","assets/backgrounds/purple.png"),this.load.image("meteorBrown_big1","assets/meteors/meteorBrown_big1.png"),this.load.image("meteorBrown_big2","assets/meteors/meteorBrown_big2.png"),this.load.image("meteorBrown_big3","assets/meteors/meteorBrown_big3.png"),this.load.image("meteorBrown_big4","assets/meteors/meteorBrown_big4.png"),this.load.image("meteorBrown_med1","assets/meteors/meteorBrown_med1.png"),this.load.image("meteorBrown_med3","assets/meteors/meteorBrown_med3.png"),this.load.image("meteorBrown_small1","assets/meteors/meteorBrown_small1.png"),this.load.image("meteorBrown_small2","assets/meteors/meteorBrown_small2.png"),this.load.image("meteorBrown_tiny1","assets/meteors/meteorBrown_tiny1.png"),this.load.image("meteorBrown_tiny2","assets/meteors/meteorBrown_tiny2.png"),this.load.image("meteorGrey_big1","assets/meteors/meteorGrey_big1.png"),this.load.image("meteorGrey_big2","assets/meteors/meteorGrey_big2.png"),this.load.image("meteorGrey_big3","assets/meteors/meteorGrey_big3.png"),this.load.image("meteorGrey_big4","assets/meteors/meteorGrey_big4.png"),this.load.image("meteorGrey_med1","assets/meteors/meteorGrey_med1.png"),this.load.image("meteorGrey_med2","assets/meteors/meteorGrey_med2.png"),this.load.image("meteorGrey_small1","assets/meteors/meteorGrey_small1.png"),this.load.image("meteorGrey_small2","assets/meteors/meteorGrey_small2.png"),this.load.image("meteorGrey_tiny1","assets/meteors/meteorGrey_tiny1.png"),this.load.image("meteorGrey_tiny2","assets/meteors/meteorGrey_tiny2.png")},create:function(){this.asset.cropEnabled=!1},update:function(){this.ready&&this.game.state.start("Menu")},onLoadComplete:function(){this.ready=!0}}},{}],"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/states/splash.js":[function(e,t){var s=function(){};t.exports=s,s.prototype={create:function(){}}},{}],"/Users/sadiqevani/Laboratory/meteorimpact-v2/src/js/utils.js":[function(e,t){var s={containsObject:function(e,t){var s;for(s=0;s<t.length;s++)if(t[s]===e)return!0;return!1},randomNumber:function(e,t){return Math.round(Math.random()*(t-e)+e)},getScreenWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},getScreenHeight:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},backgrounds:["backgroundBlack","backgroundBlue","backgroundDarkPurple","backgroundPurple"]};t.exports=s},{}]},{},["./src/js/main.js"]);